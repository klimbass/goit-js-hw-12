{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/icon-close.svg","../src/main.js"],"sourcesContent":["let fetchPixabayAPI = set => {\n  return fetch(`https://pixabay.com/api/?${set}`).then(request => {\n    if (!request.ok) {\n      return new Error(`Error: ${request.status}`);\n    }\n    return request.json();\n  });\n};\n\nexport default fetchPixabayAPI;\n","export default function renderGallery(arr) {\n  return arr.reduce((accum, item) => {\n    return (accum += `<div class=\"image-box\">\n                        <a href=\"${item.largeImageURL}\">\n                       <img class=\"image\" src=${item.webformatURL} alt=\"${item.tags}\"  height=\"200\" width=\"360\"/>\n                          <div class=\"image-discr\">\n                            <p class=\"text\"><span class=\"image-title\">Likes</span>${item.likes}</p>\n                            <p class=\"text\"><span class=\"image-title\">Views</span>${item.views}</p>\n                            <p class=\"text\"><span class=\"image-title\">Comments</span>${item.comments}</p>\n                            <p class=\"text\"><span class=\"image-title\">Downloads</span>${item.downloads}</p> \n                          </div>\n                        </a>\n                    </div>`);\n  }, '');\n}\n","export default \"__VITE_ASSET__e36160dc__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport fetchPixabayAPI from './js/pixabay-api.js';\nimport renderGallery from './js/render-functions.js';\n\nimport icon from './img/icon-close.svg';\n\nconst optionsFetch = new URLSearchParams({\n  key: '4348225-c90d49c3185e1d6dd0df9aa80',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 21,\n});\n\nconst loader = document.querySelector('.loader');\n\nconst gallery = document.querySelector('.gallery');\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchRequest = event.target.elements.input.value.trim();\n\n  if (searchRequest) {\n    gallery.innerHTML = '';\n    loader.classList.remove('invisible');\n    optionsFetch.set('q', searchRequest);\n\n    fetchPixabayAPI(optionsFetch)\n      .then(data => {\n        if (data.hits.length === 0) {\n          loader.classList.add('invisible');\n          gallery.innerHTML = '';\n          iziToast.error({\n            position: 'topRight',\n            maxWidth: '380px',\n            progressBar: false,\n            iconUrl: icon,\n            transitionIn: 'fadeInLeft',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n          loader.classList.add('invisible');\n          gallery.innerHTML = renderGallery(data.hits);\n          const gallerySimple = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          gallerySimple.refresh();\n        }\n      })\n      .catch(err => {\n        iziToast.error({\n          position: 'topRight',\n          maxWidth: '380px',\n          progressBar: false,\n          iconUrl: icon,\n          transitionIn: 'fadeInLeft',\n          message: `Error:${err} `,\n        });\n      });\n  } else {\n    loader.classList.add('invisible');\n    gallery.innerHTML = '';\n    iziToast.show({\n      progressBar: false,\n      position: 'topRight',\n      maxWidth: '380px',\n      iconUrl: icon,\n      transitionIn: 'fadeInLeft',\n      message: 'Put the request!',\n    });\n  }\n  form.reset();\n});\n"],"names":["fetchPixabayAPI","set","request","renderGallery","arr","accum","item","icon","optionsFetch","loader","gallery","form","event","searchRequest","data","iziToast","SimpleLightbox","err"],"mappings":"6vBAAA,IAAIA,EAAkBC,GACb,MAAM,4BAA4BA,CAAG,EAAE,EAAE,KAAKC,GAC9CA,EAAQ,GAGNA,EAAQ,OAFN,IAAI,MAAM,UAAUA,EAAQ,MAAM,EAAE,CAG9C,ECNY,SAASC,EAAcC,EAAK,CACzC,OAAOA,EAAI,OAAO,CAACC,EAAOC,IAChBD,GAAS;AAAA,mCACcC,EAAK,aAAa;AAAA,gDACLA,EAAK,YAAY,SAASA,EAAK,IAAI;AAAA;AAAA,oFAECA,EAAK,KAAK;AAAA,oFACVA,EAAK,KAAK;AAAA,uFACPA,EAAK,QAAQ;AAAA,wFACZA,EAAK,SAAS;AAAA;AAAA;AAAA,4BAIjG,EAAE,CACP,CCdA,MAAeC,EAAA,gDCWTC,EAAe,IAAI,gBAAgB,CACvC,IAAK,oCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACZ,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAgBD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEpDC,GACFH,EAAQ,UAAY,GACpBD,EAAO,UAAU,OAAO,WAAW,EACnCD,EAAa,IAAI,IAAKK,CAAa,EAEnCb,EAAgBQ,CAAY,EACzB,KAAKM,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBL,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAQ,UAAY,GACpBK,EAAS,MAAM,CACb,SAAU,WACV,SAAU,QACV,YAAa,GACb,QAASR,EACT,aAAc,aACd,QACE,0EACd,CAAW,IAEDE,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAQ,UAAYP,EAAcW,EAAK,IAAI,EACrB,IAAIE,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAC1B,CAAW,EACa,QAAO,EAE/B,CAAO,EACA,MAAMC,GAAO,CACZF,EAAS,MAAM,CACb,SAAU,WACV,SAAU,QACV,YAAa,GACb,QAASR,EACT,aAAc,aACd,QAAS,SAASU,CAAG,GAC/B,CAAS,CACT,CAAO,IAEHR,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAQ,UAAY,GACpBK,EAAS,KAAK,CACZ,YAAa,GACb,SAAU,WACV,SAAU,QACV,QAASR,EACT,aAAc,aACd,QAAS,kBACf,CAAK,GAEHI,EAAK,MAAK,CACZ,CAAC"}